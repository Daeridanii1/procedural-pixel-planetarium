[gd_scene load_steps=30 format=3 uid="uid://dh2f3vfuo11jo"]

[ext_resource type="Shader" path="res://shaders/planet.gdshader" id="1_enfj3"]
[ext_resource type="Script" path="res://scripts/Planet.gd" id="2_5ebrv"]
[ext_resource type="Script" path="res://scripts/clouds.gd" id="3_lhyyd"]
[ext_resource type="Shader" path="res://shaders/cloud.gdshader" id="4_u35ah"]
[ext_resource type="PackedScene" uid="uid://djp6am64b0ugl" path="res://scenes/aurora.tscn" id="5_lo6yj"]
[ext_resource type="PackedScene" uid="uid://fuir7ttnsona" path="res://scenes/rings.tscn" id="6_cs13d"]
[ext_resource type="Texture2D" uid="uid://c8acoybkbrvua" path="res://images/circle.png" id="7_rilla"]
[ext_resource type="Script" path="res://scripts/atmosphere.gd" id="8_sv2if"]
[ext_resource type="FontFile" uid="uid://ba8w4fc43u8cc" path="res://fonts/CozetteVector.ttf" id="9_w6cy7"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_omhmq"]
frequency = 0.004
fractal_lacunarity = 3.0
domain_warp_amplitude = 10.0

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_oq53l"]
in_3d_space = true
seamless = true
noise = SubResource("FastNoiseLite_omhmq")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_cwj05"]
noise_type = 2
frequency = 0.02
fractal_type = 0
cellular_distance_function = 1
cellular_jitter = 1.0
domain_warp_type = 2
domain_warp_amplitude = 5.0

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_8w1t5"]
width = 780
seamless = true
noise = SubResource("FastNoiseLite_cwj05")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_8fv32"]
render_priority = 0
shader = ExtResource("1_enfj3")
shader_parameter/light_vector = Vector3(1, 0.175, -0.839)
shader_parameter/NOISE_PATTERN = SubResource("NoiseTexture2D_oq53l")
shader_parameter/VORONOI_PATTERN = SubResource("NoiseTexture2D_8w1t5")

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_gloeq"]
in_3d_space = true
seamless = true

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_gn0ae"]
width = 819
height = 461
in_3d_space = true
seamless = true

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_lxmcd"]
width = 128
height = 1024
in_3d_space = true
seamless = true

[sub_resource type="MultiMesh" id="MultiMesh_j8iyf"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_mh3lt"]
render_priority = 0
shader = ExtResource("4_u35ah")
shader_parameter/color = Color(1, 0.992157, 0.952941, 1)
shader_parameter/shadow_color = Color(0.5, 0.5, 0.5, 0.5)

[sub_resource type="SphereMesh" id="SphereMesh_nrtcf"]
material = SubResource("ShaderMaterial_mh3lt")
radius = 0.03
height = 0.06
radial_segments = 6
rings = 6

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_lin4d"]
emission_shape = 2
emission_sphere_radius = 0.6
direction = Vector3(0, 0, 0)
gravity = Vector3(0, 0, 0)
scale_min = 0.6
scale_max = 1.1
sub_emitter_keep_velocity = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_o4xao"]
render_priority = 0
shader = ExtResource("4_u35ah")
shader_parameter/color = Color(0.94902, 0.886275, 0.823529, 1)
shader_parameter/shadow_color = Color(0.901961, 0, 0.498039, 1)

[sub_resource type="SphereMesh" id="SphereMesh_fwd2b"]
material = SubResource("ShaderMaterial_o4xao")
radius = 0.05
height = 0.1
radial_segments = 6
rings = 6

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_i2pyb"]
emission_shape = 3
emission_box_extents = Vector3(5, 5, 0)
gravity = Vector3(0, 0, 0)
scale_min = 0.1
scale_max = 0.5
hue_variation_min = 1.0
hue_variation_max = 1.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_y1ptq"]
shading_mode = 0

[sub_resource type="QuadMesh" id="QuadMesh_a3pyy"]
material = SubResource("StandardMaterial3D_y1ptq")
size = Vector2(0.05, 0.05)

[sub_resource type="Environment" id="Environment_3psnj"]
background_mode = 1
background_color = Color(0.0235294, 0.027451, 0.101961, 1)
ambient_light_source = 2
ambient_light_color = Color(0.160784, 0.2, 0.329412, 1)
ambient_light_energy = 0.4
reflected_light_source = 1
volumetric_fog_density = 0.1796
adjustment_brightness = 0.7
adjustment_contrast = 0.71
adjustment_saturation = 0.01

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_0vd8a"]

[sub_resource type="Theme" id="Theme_yqv0l"]
default_font = ExtResource("9_w6cy7")
default_font_size = 36
/fonts/font = ExtResource("9_w6cy7")
/styles/style = SubResource("StyleBoxEmpty_0vd8a")

[node name="Space" type="Node3D"]

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
texture_filter = 1
offset_right = 1920.0
offset_bottom = 1080.0
stretch = true
stretch_shrink = 6

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
size = Vector2i(320, 180)
size_2d_override = Vector2i(1920, 1080)
size_2d_override_stretch = true
render_target_update_mode = 4

[node name="Main Camera" type="Camera3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.02116, 0, 1.41082)
projection = 1
current = true
fov = 51.4
size = 3.0

[node name="planet" type="CSGSphere3D" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("clouds", "atmosphere", "aurora", "pring", "label")]
transform = Transform3D(0.984808, 0.173648, 0, -0.172987, 0.98106, -0.0871557, -0.0151344, 0.0858316, 0.996195, 0, 0, 0)
instance_shader_parameters/color_shadow = Color(0, 0, 0, 1)
radial_segments = 48
rings = 32
material = SubResource("ShaderMaterial_8fv32")
script = ExtResource("2_5ebrv")
base_noise_tex = SubResource("NoiseTexture2D_gloeq")
craters_tex = SubResource("NoiseTexture2D_gn0ae")
stripes_tex = SubResource("NoiseTexture2D_lxmcd")
clouds = NodePath("pclouds")
atmosphere = NodePath("../atmosphere")
aurora = NodePath("aurora")
pring = NodePath("rings")
label = NodePath("../../../Control/RichTextLabel")

[node name="pclouds" type="MultiMeshInstance3D" parent="SubViewportContainer/SubViewport/planet"]
transform = Transform3D(0.984808, -0.172987, -0.0151344, 0.173648, 0.981061, 0.0858316, 3.72529e-09, -0.0871557, 0.996194, 0, 0, 0)
multimesh = SubResource("MultiMesh_j8iyf")
script = ExtResource("3_lhyyd")
cloud_mesh = SubResource("SphereMesh_nrtcf")

[node name="clouds" type="GPUParticles3D" parent="SubViewportContainer/SubViewport/planet"]
visible = false
cast_shadow = 0
amount = 64
lifetime = 10000.0
one_shot = true
explosiveness = 1.0
local_coords = true
process_material = SubResource("ParticleProcessMaterial_lin4d")
draw_pass_1 = SubResource("SphereMesh_fwd2b")

[node name="aurora" parent="SubViewportContainer/SubViewport/planet" instance=ExtResource("5_lo6yj")]
transform = Transform3D(0.95, 0, 0, 0, 0.95, 0, 0, 0, 0.95, 0, 0, 0)

[node name="rings" parent="SubViewportContainer/SubViewport/planet" instance=ExtResource("6_cs13d")]

[node name="atmosphere" type="Sprite3D" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("target")]
transform = Transform3D(0.118, 0, 0, 0, 0.118, 0, 0, 0, 0.118, 0, 0, 0)
transparency = 0.92
cast_shadow = 0
modulate = Color(0, 0.647059, 0.929412, 1)
texture = ExtResource("7_rilla")
script = ExtResource("8_sv2if")
target = NodePath("../planet")

[node name="atmosphere layer 2" type="Sprite3D" parent="SubViewportContainer/SubViewport/atmosphere"]
transform = Transform3D(1.15, 0, 0, 0, 1.15, 0, 0, 0, 1.15, 0, 0, 0)
transparency = 0.92
cast_shadow = 0
modulate = Color(0, 1, 1, 0.211765)
texture = ExtResource("7_rilla")

[node name="starfield" type="GPUParticles3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -5.99768)
amount = 1000
lifetime = 10000.0
explosiveness = 1.0
process_material = SubResource("ParticleProcessMaterial_i2pyb")
draw_pass_1 = SubResource("QuadMesh_a3pyy")

[node name="Environment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_3psnj")

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.523775, 0.384408, -0.760191, -0.218101, 0.923163, 0.316546, 0.823463, -1.74921e-08, 0.56737, 0, 0, 1.41082)
shadow_enabled = true
directional_shadow_mode = 0

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="RichTextLabel" type="RichTextLabel" parent="Control"]
layout_mode = 0
offset_left = 992.0
offset_top = 336.0
offset_right = 1773.0
offset_bottom = 920.0
theme = SubResource("Theme_yqv0l")
bbcode_enabled = true
text = "name
——————————
[color=2BD9FE]description[/color]
[color=2BD9FE]radius km[/color]
[color=3AAED8]flavor text[/color]"
fit_content = true
scroll_active = false
